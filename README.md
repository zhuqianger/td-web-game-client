# 明日方舟塔防游戏

这是一个使用 Vue.js 和 Phaser.js 开发的 web 端塔防游戏项目，基于明日方舟的世界观。

## 游戏特色

- **塔防玩法**: 建造防御塔，阻止感染者到达终点
- **多种塔类型**: 狙击塔、守卫塔、术师塔、医疗塔
- **敌人波次**: 多波次敌人进攻，难度递增
- **升级系统**: 塔可以升级提升属性
- **明日方舟主题**: 基于明日方舟的世界观和设定

## 技术栈

- **前端框架**: Vue.js 3
- **游戏引擎**: Phaser.js
- **构建工具**: Vite
- **包管理器**: npm

## 游戏玩法

1. **建造塔**: 点击塔按钮选择塔类型，然后点击地图建造
2. **升级塔**: 点击已建造的塔进行升级
3. **防御敌人**: 阻止感染者到达终点，保护生命值
4. **波次挑战**: 完成所有波次获得胜利

## 塔的类型

- **狙击塔**: 远程高伤害，攻击范围大
- **守卫塔**: 平衡型防御，性价比高
- **术师塔**: 魔法攻击，对特定敌人有效
- **医疗塔**: 治疗友军，提供支援

## 敌人类型

- **普通感染者**: 基础敌人，血量适中
- **快速感染者**: 移动速度快，血量较低
- **重型感染者**: 血量高，移动慢
- **感染源**: Boss级敌人，血量极高

## 项目结构

```
td-web-game-client/
├── public/                 # 静态资源
│   └── config/            # 游戏配置文件
├── src/                    # 源代码
│   ├── components/         # Vue 组件
│   ├── gameObjects/        # 游戏对象
│   │   ├── Tower.js       # 防御塔类
│   │   ├── Enemy.js       # 敌人类
│   │   └── GameMap.js     # 地图类
│   ├── scenes/            # 游戏场景
│   │   ├── LoginScene.js  # 登录场景
│   │   ├── MainMenuScene.js # 主菜单场景
│   │   └── GameScene.js   # 游戏场景
│   ├── common/            # 通用工具
│   ├── App.vue            # 主应用组件
│   └── main.js            # 应用入口
├── package.json           # 项目配置
└── vite.config.js         # Vite 配置
```

## 开发规范

### Vue 组件
- 使用 Vue 3 Composition API
- 组件命名使用 PascalCase
- 文件命名使用 PascalCase.vue

### Phaser 游戏开发
- 游戏场景放在 `src/scenes/` 目录下
- 游戏对象放在 `src/gameObjects/` 目录下
- 游戏配置放在 `public/config/` 目录下

## 开发注意事项

1. 确保 Phaser 游戏实例在 Vue 组件中正确管理生命周期
2. 游戏状态与 Vue 状态管理保持一致
3. 响应式设计，适配不同屏幕尺寸
4. 性能优化，避免内存泄漏

## 游戏配置

游戏的主要配置在 `public/config/` 目录下：

- `chapters.json`: 章节和关卡配置
- `maps.json`: 地图配置
- `pieces.json`: 棋子配置（保留兼容性）

## 开发命令

```bash
# 安装依赖
npm install

# 开发模式
npm run dev

# 构建生产版本
npm run build

# 预览构建结果
npm run preview
```

## 游戏操作

- **鼠标点击**: 选择塔类型、建造塔、升级塔
- **鼠标悬停**: 查看塔的攻击范围
- **自动波次**: 敌人波次自动进行

## 版本历史

- v1.0.0: 从战棋游戏改造为塔防游戏
- 添加了塔防核心玩法
- 实现了敌人波次系统
- 添加了塔升级功能
- 基于明日方舟主题重新设计
